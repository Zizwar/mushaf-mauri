{"version":3,"sources":["../../../../src/start/server/DevToolsPlugin.schema.ts"],"sourcesContent":["import { z } from 'zod';\n\nconst CommandParameterSchema = z.object({\n  name: z.string().min(1),\n  type: z.enum(['text', 'number', 'confirm']),\n  description: z.string().optional(),\n});\n\nexport type DevToolsPluginCommandParameter = z.infer<typeof CommandParameterSchema>;\n\nconst CommandSchema = z.object({\n  name: z.string().min(1),\n  title: z.string().min(1),\n  environments: z.array(z.enum(['cli', 'mcp'])).readonly(),\n  parameters: z.array(CommandParameterSchema).optional(),\n});\n\nexport type DevToolsPluginCommand = z.infer<typeof CommandSchema>;\n\nexport type DevToolsPluginExecutorArguments = {\n  command: string;\n  metroServerOrigin: string;\n  args?: Record<string, string | number | boolean> | undefined;\n  onOutput?: (output: DevToolsPluginOutput) => void;\n};\n\nconst CliExtensionsSchema = z.object({\n  description: z.string(),\n  commands: z.array(CommandSchema).min(1),\n  entryPoint: z.string().min(1),\n});\n\nexport type DevToolsPluginCliExtensions = z.infer<typeof CliExtensionsSchema>;\n\nexport const PluginSchema = z.object({\n  packageName: z.string().min(1),\n  packageRoot: z.string().min(1),\n  webpageRoot: z.string().optional(),\n  cliExtensions: CliExtensionsSchema.optional(),\n});\n\nexport type DevToolsPluginInfo = z.infer<typeof PluginSchema>;\n\nconst DevToolsPluginOutputLinesSchema = z.union([\n  z.object({\n    type: z.literal('text'),\n    text: z.string(),\n    url: z.string().optional(),\n    level: z.enum(['info', 'warning', 'error']),\n  }),\n  z.object({\n    type: z.literal('audio'),\n    url: z.string().url(),\n    text: z.string().optional(),\n  }),\n  z.object({\n    type: z.literal('image'),\n    url: z.string().url(),\n    text: z.string().optional(),\n  }),\n]);\n\nexport const DevToolsPluginOutputSchema = z.array(DevToolsPluginOutputLinesSchema);\n\nexport type DevToolsPluginOutput = z.infer<typeof DevToolsPluginOutputSchema>;\n"],"names":["DevToolsPluginOutputSchema","PluginSchema","CommandParameterSchema","z","object","name","string","min","type","enum","description","optional","CommandSchema","title","environments","array","readonly","parameters","CliExtensionsSchema","commands","entryPoint","packageName","packageRoot","webpageRoot","cliExtensions","DevToolsPluginOutputLinesSchema","union","literal","text","url","level"],"mappings":";;;;;;;;;;;IA8DaA,0BAA0B;eAA1BA;;IA5BAC,YAAY;eAAZA;;;;yBAlCK;;;;;;AAElB,MAAMC,yBAAyBC,QAAC,CAACC,MAAM,CAAC;IACtCC,MAAMF,QAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IACrBC,MAAML,QAAC,CAACM,IAAI,CAAC;QAAC;QAAQ;QAAU;KAAU;IAC1CC,aAAaP,QAAC,CAACG,MAAM,GAAGK,QAAQ;AAClC;AAIA,MAAMC,gBAAgBT,QAAC,CAACC,MAAM,CAAC;IAC7BC,MAAMF,QAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IACrBM,OAAOV,QAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IACtBO,cAAcX,QAAC,CAACY,KAAK,CAACZ,QAAC,CAACM,IAAI,CAAC;QAAC;QAAO;KAAM,GAAGO,QAAQ;IACtDC,YAAYd,QAAC,CAACY,KAAK,CAACb,wBAAwBS,QAAQ;AACtD;AAWA,MAAMO,sBAAsBf,QAAC,CAACC,MAAM,CAAC;IACnCM,aAAaP,QAAC,CAACG,MAAM;IACrBa,UAAUhB,QAAC,CAACY,KAAK,CAACH,eAAeL,GAAG,CAAC;IACrCa,YAAYjB,QAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;AAC7B;AAIO,MAAMN,eAAeE,QAAC,CAACC,MAAM,CAAC;IACnCiB,aAAalB,QAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IAC5Be,aAAanB,QAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IAC5BgB,aAAapB,QAAC,CAACG,MAAM,GAAGK,QAAQ;IAChCa,eAAeN,oBAAoBP,QAAQ;AAC7C;AAIA,MAAMc,kCAAkCtB,QAAC,CAACuB,KAAK,CAAC;IAC9CvB,QAAC,CAACC,MAAM,CAAC;QACPI,MAAML,QAAC,CAACwB,OAAO,CAAC;QAChBC,MAAMzB,QAAC,CAACG,MAAM;QACduB,KAAK1B,QAAC,CAACG,MAAM,GAAGK,QAAQ;QACxBmB,OAAO3B,QAAC,CAACM,IAAI,CAAC;YAAC;YAAQ;YAAW;SAAQ;IAC5C;IACAN,QAAC,CAACC,MAAM,CAAC;QACPI,MAAML,QAAC,CAACwB,OAAO,CAAC;QAChBE,KAAK1B,QAAC,CAACG,MAAM,GAAGuB,GAAG;QACnBD,MAAMzB,QAAC,CAACG,MAAM,GAAGK,QAAQ;IAC3B;IACAR,QAAC,CAACC,MAAM,CAAC;QACPI,MAAML,QAAC,CAACwB,OAAO,CAAC;QAChBE,KAAK1B,QAAC,CAACG,MAAM,GAAGuB,GAAG;QACnBD,MAAMzB,QAAC,CAACG,MAAM,GAAGK,QAAQ;IAC3B;CACD;AAEM,MAAMX,6BAA6BG,QAAC,CAACY,KAAK,CAACU"}